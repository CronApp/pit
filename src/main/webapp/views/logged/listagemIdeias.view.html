<div ng-init="cronapi.client('js.blockly.ListaApi.GetApi.GetApi').run(); cronapi.client('js.blockly.Votacao.Voto.InicializarStatusVotacaoUser').run();" style="height: 100vh"> 
  <div class="votacao-lado-esquerdo col-md-7"> 
    <div class="component-holder ng-scope  col-md-12" data-component="crn-textinput" id="crn-textinput-545907"> 
      <div class="form-group"> 
        <label for="input158">Pesquisar</label> 
        <input ng-model="searchKeyword" placeholder="Pesquisar" class="form-control k-textbox"> 
      </div> 
    </div> 
    <div class="col-md-12 customiza-overflow-left" style="overflow-x: scroll; height: 800px; margin-top: 6.8vh;"> 
      <div style="" class="component-holder ng-scope col-md-12" data-component="crn-accordion" id="crn-accordion-325904" crn-skin="css/skins/IdVisualAccordion.css" ng-model="vars.listaVotos"> 
        <div class="panel-group" id="accordion-1372{{$index}}" role="tablist" aria-multiselectable="true"> 
          <div class="panel panel-default" ng-repeat="ideia in vars.listaIdeias track by $index" ng-hide="searchKeyword &amp;&amp; (!ideia.fields.Projeto.toLowerCase().includes(searchKeyword.toLowerCase()) &amp;&amp; !ideia.fields.Responsavel.toLowerCase().includes(searchKeyword.toLowerCase()))"> 
            <div style="display: flex; flex-direction: row;" ng-hidden="filter:searchKeyword"> 
              <div class="div-voto-selecao-class" style="margin-top: 46px; margin-right: 20px; margin-left: 12px;" ng-if="checkboxProjetosVisivel"> 
                <input class="check-voto-selecao" onclick="checkCount(this)" type="checkbox" id="checkbox1233[$index]" ng-model="vars.checkbox[$index]" ng-initial-value="false" crn-allow-null-values="false" ng-false-value="true" ng-true-value="false" ng-click="cronapi.client('js.blockly.Votacao.Voto.ObtemVoto').names('66436263', '7b36cee4').run(ideia.id, vars.checkbox[$index])"> 
              </div> 
              <div style="width: 100%;"> 
                <div class="panel-heading heading-arrow" role="tab" id="headingOne{{$index}}" data-toggle="collapse" data-parent="#accordion-1372" href="#collapseOne-1372{{$index}}" aria-expanded="true" aria-controls="collapseOne-1372{{$index}}" heading-arrow="heading-arrow"> 
                  <div class="lead" data-component="crn-title" xattr-position=""> 
                    <h1 class="title h3 col-md-12 text-left" xattr-position="text-left" xattr-type="h3" data-component="crn-text-component">{{ideia.fields.Projeto}}</h1> 
                    <div class="col-md-12"> 
                      <div class="campoDadosProjeto col-md-6"> 
                        <span>Respons√°vel: </span> 
                        <div class="cardsRetorno" style="color: #40BED4;">
                           {{ideia.fields.Responsavel}} 
                        </div> 
                      </div> 
                      <div class="col-md-6 campoDadosProjeto campoDadosProjetoRight"> 
                        <span>Linha de neg√≥cio: </span> 
                        <div class="cardsRetorno " style="color: #40BED4;">
                           {{ideia.fields.LN}} 
                        </div> 
                      </div> 
                    </div> 
                  </div> 
                </div> 
                <div id="collapseOne-1372{{$index}}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne{{$index}}"> 
                  <div class="panel-body" data-container="true"> 
                    <div class="lead text-center" data-component="crn-subtitle" xattr-position="text-center"> 
                      <div class="col-md-12 campoDadosProjeto" style="display:flex;"> 
                        <span>Link de defesa: </span> 
                        <div class="cardsRetorno col-md-12"> 
                          <a href="{{ideia.fields.Link}}" target="_blank" class=" non-collapsing cron-link color-default text-left col-md-12 col-lg-12 col-sm-12 col-xs-12" data-replace="true" link-theme="color-default" data-component="crn-anchor" id="crn-anchor-279185">{{ideia.fields.Link}}</a> 
                        </div> 
                      </div> 
                    </div> 
                    <div style="margin-top: 40px;"> 
                      <div class="campoDadosProjeto"> 
                        <span style="width: 100%; margin-bottom: 10px;">Grupo: </span> 
                      </div> {{ideia.fields.Grupo}} 
                    </div> 
                    <div style="margin-top: 40px;"> 
                      <div class="campoDadosProjeto"> 
                        <span style="width: 100%; margin-bottom: 10px;">Membros: </span> 
                      </div> {{ideia.fields.Membros}} 
                    </div> 
                    <div style="margin-top: 40px;"> 
                      <div class="campoDadosProjeto"> 
                        <span style="width: 100%; margin-bottom: 10px;">Valor: </span> 
                      </div> {{ideia.fields.Valor}} 
                    </div> 
                    <div style="margin-top: 40px;"> 
                      <div class="campoDadosProjeto"> 
                        <span style="width: 100%; margin-bottom: 10px;">Aplicabilidade: </span> 
                      </div> {{ideia.fields.Aplicabilidade}} 
                    </div> 
                    <div style="margin-top: 40px;"> 
                      <div class="campoDadosProjeto"> 
                        <span style="width: 100%; margin-bottom: 10px;">Detalhamento: </span> 
                      </div> {{ideia.fields.Detalhamento}} 
                    </div> 
                  </div> 
                </div> 
              </div> 
            </div> 
          </div> 
        </div> 
      </div> 
    </div> 
  </div> 
  <div class="col-md-4" style="margin-right: 0px; height: 100%; background: #F4F4FF; top: 0px; right: 0px; position: relative; float: right;"> 
    <div class="hidden" id="div-grupo-tela-votacao-id"> 
      <!--tela-regras--> 
      <div id="div-tela-regras-id" style="text-align: left; padding-left: 2rem; padding-right: 2rem;"> 
        <div> 
          <p style="font-weight: bold; text-align: left; padding-top:2rem;">Regras para Vota√ß√£o:</p> 
        </div> 
        <div> 
          <ul style="list-style: none; padding: 0"> 
            <li>1¬™ Escolher at√© 02 projetos para realizar a vota√ß√£o;</li> 
            <li>2¬™ A vota√ß√£o n√£o poder√° ser alterada;</li> 
            <li>3¬™ A vota√ß√£o poder√° ser realizada at√© a data: 24/11/2023.</li> 
          </ul> 
        </div> 
        <div style="padding-top: 2rem; padding-bottom: 2rem; display: flex; align-items: center;"> 
          <input class="check-voto-selecao" type="checkbox" id="check-aceitar-regras" ng-model="vars.checkAceitarRegras" style="margin: 0;"> 
          <label for="check-aceitar-regras" style="margin-left: 0.5rem;">Aceito Regras</label> 
        </div> 
        <!--DEIXAR CLICAR EM INICIAR VOTA√á√ÉO APENAS SE O CHECK ACIMA ESTIVER MARCADO--> 
        <div class="component-holder ng-scope" data-component="crn-button" id="crn-button-477481" ng-model="checkboxProjetosVisivel"> 
          <button class="btn-primary btn-block" ng-click="checkboxProjetosVisivel = vars.checkAceitarRegras; cronapi.client('js.blockly.Votacao.Voto.IniciarVotacao').names('b8644fae').run(vars.checkAceitarRegras)"> <i class="glyphicon glyphicon-pencil" icon-theme=""></i> <span class="" text-theme="">Iniciar Vota√ß√£o</span> </button> 
        </div> 
      </div> 
      <!--tela-espera-voto--> 
      <div class="hidden" id="div-tela-espera-voto-id" style="text-align: left; padding-left: 2rem; padding-right: 2rem;"> 
        <div> 
          <p style="font-weight: bold; text-align: left; padding-top:2rem;">Meus Votos</p> 
        </div> 
        <div>
           Escolha at√© 2 Projetos 
        </div> 
      </div> 
      <!--tela-votados--> 
      <div class="hidden" id="div-tela-votados-id" style="text-align: left; padding-left: 2rem; padding-right: 2rem;"> 
        <div> 
          <p style="font-weight: bold; text-align: left; padding-top:2rem;">Meus Votos</p> 
        </div> 
        <div style="padding-bottom: 2rem;">
           Vote em at√© 2 Projetos 
        </div> 
        <!--LISTAGEM DE PROJETO MARCADOS NO CHECKBOX--> 
        <div> 
          <div style="background: rgb(255, 255, 255); border-radius: 6px; border: 1px solid rgb(140, 140, 140); padding:1rem; margin-bottom:1rem" ng-repeat="voto in vars.listaVotos"> 
            <div ng-repeat="ideia in vars.listaIdeias"> 
              <div ng-if="voto == ideia.id"> 
                <div style="font-size: 2rem; text-height: bold;">
                   {{ideia.fields.Projeto}} 
                </div> 
                <div style="color: #40BED4;">
                   {{ideia.fields.Responsavel}} 
                </div> 
              </div> 
            </div> 
          </div> 
        </div> 
        <!--SE TIVER APENAS UM PROJETO E ESTE ESTIVER MARCADO, DEVER√Å DEIXAR FINALIZAR--> 
        <div id="div-unico-voto" style="padding-top: 2rem; padding-bottom: 2rem; display: flex; align-items: center;"> 
          <input class="check-voto-selecao" type="checkbox" id="check-unico-voto" ng-model="vars.checkUnicoVoto" style="margin: 0;"> 
          <label for="check-unico-voto" style="margin-left: 0.5rem;">Meu Voto ser√° em apenas 1 Projeto</label> 
        </div> 
        <div class="component-holder ng-scope col-md-12" data-component="crn-button" id="crn-button-71994" style="padding-top: 2rem"> 
          <!--AO CLICAR NO BOTAO, OCULTA OS CHECKBOXES DE VOTOS SE, OUVER UM PROJETO MARCADO E O CHECKBOX DE VOTO √öNICO ESTIVER CHECADO, OU SE OUVEREM DOIS VOTOS MARCADOS--> 
          <button class="btn-block btn-primary" ng-click="checkboxProjetosVisivel = !((vars.listaVotos.length == 1 &amp;&amp; vars.checkUnicoVoto) || vars.listaVotos.length == 2); cronapi.client('js.blockly.Votacao.Voto.FinalizarVotacao').names('8e5f7fd0').run(vars.checkUnicoVoto)" xattr-fullsize="btn-block" xattr-theme="btn-default" xattr-disabled=""> <i class="glyphicon glyphicon-ok" icon-theme=""></i> <span class="" text-theme="">Finalizar</span> </button> 
        </div> 
      </div> 
    </div> 
    <!--tela de votos do usu√°rio--> 
    <div class="hidden" id="div-grupo-tela-votos-usuario-id" style="text-align: left; padding-left: 2rem; padding-right: 2rem;"> 
      <div> 
        <span style="font-weight: 700;">Quantidade de Votos</span> 
      </div> 
      <div> 
        <p>Votos computados: {{vars.votosComputados}}</p> 
      </div> 
      <div> 
        <p style="font-weight: bold; text-align: left; padding-top:2rem;">Meus Votos</p> 
      </div> 
      <div ng-model="vars.votosUsuario"> 
        <div style="background: rgb(255, 255, 255); border-radius: 6px; border: 1px solid rgb(140, 140, 140); padding:1rem; margin-bottom:1rem" ng-repeat="voto in vars.votosUsuario"> 
          <div ng-repeat="ideia in vars.listaIdeias"> 
            <div ng-if="voto.voto == ideia.id"> 
              <div style="font-size: 2rem; text-height: bold;">
                 {{ideia.fields.Projeto}} 
              </div> 
              <div style="color: #40BED4;">
                 {{ideia.fields.Responsavel}} 
              </div> 
            </div> 
          </div> 
        </div> 
      </div> 
    </div> 
    <!--tela-resultado--> 
    <div class="hidden" id="div-grupo-tela-resultado-voto-id" style="text-align: left; padding-left: 2rem; padding-right: 2rem;"> 
      <div style="margin-top: 2vh;"> 
        <div> 
          <span style="font-weight: 700;">Quantidade de Votos</span> 
        </div> 
        <div> 
          <p>Votos computados: {{vars.votosComputados}}</p> 
        </div> 
        <div ng-model="vars.resultadoVotos" style="margin-top: 4vh;"> 
          <div class="class-resultado-info hidden" id="id-resultado-info-data"> 
            <div style="font-size: 18px; font-weight: 700;">
               Resultado em 25/11 
              <i class="fa fa-calendar" style="color:#8C69D4"></i> 
            </div> 
          </div> 
          <div class="hidden" id="div-resultado-rank-id"> 
            <div> 
              <span style="font-weight: 700;">Resultado</span> 
            </div> 
            <div style="overflow-x: scroll; height:800px; position:relative;"> 
              <div ng-repeat="(index, resultadoRank) in vars.resultadoVotos"> 
                <div ng-repeat="ideia in vars.listaIdeias" ng-if="resultadoRank.voto === ideia.id" style="display: flex; justify-content: center;"> 
                  <div class="card gold"> 
                    <div class="project-info"> 
                      <div class="project-name">
                         {{ ideia.fields.Projeto }} 
                      </div> 
                      <div class="vote-count" style="font-size: 14px; color: #40BED4;">
                         {{ideia.fields.Responsavel}} 
                      </div> 
                    </div> 
                    <div class="project-color"></div> 
                    <div class="vote-label" style="justify-content: center;"> 
                      <div class="medal" ng-if="index === 0">
                         ü•á 
                      </div> 
                      <div class="medal" ng-if="index === 1">
                         ü•à 
                      </div> 
                      <div class="medal" ng-if="index === 2">
                         ü•â 
                      </div> 
                      <div>
                         {{ resultadoRank.numeroVotos }} Votos 
                      </div> 
                    </div> 
                  </div> 
                </div> 
              </div> 
            </div> 
          </div> 
        </div> 
      </div> 
    </div> 
  </div> 
  <script>
        function checkCount(checkbox) {
            var checkboxes = document.querySelectorAll(".div-voto-selecao-class .check-voto-selecao");
            var checkedCount = 0;
            for (var i = 0; i < checkboxes.length; i++) {
                if (checkboxes[i].checked) {
                    checkedCount++;
                }
            }

            if (checkedCount >= 2) {
                for (var i = 0; i < checkboxes.length; i++) {
                    if (!checkboxes[i].checked) {
                        checkboxes[i].disabled = true;
                    }
                }
            } else {
                for (var i = 0; i < checkboxes.length; i++) {
                    checkboxes[i].disabled = false;
                }
            }
        }
    </script> 
</div>